<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Twitstock</title>

    <!-- Bootstrap core CSS -->
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">
    <!--  <link href="../../dist/css/bootstrap.min.css" rel="stylesheet"> -->

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- link href="../static/css/ie10-viewport-bug-workaround.css" rel="stylesheet" -->

    <!-- Custom styles for this template -->
    <link href="../static/css/jumbotron-narrow.css" rel="stylesheet">

	<!-- date time picker-->
    <!-- <script src="./static/jquery.datetimepicker.js"></script> -->
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <!-- Scripts for jQuery -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.js"></script>                      
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>                  
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>   
	<!-- highcharts-->
	<script src="http://code.highcharts.com/stock/highstock.src.js"></script>
    <script src="http://code.highcharts.com/stock/modules/exporting.js"></script>

    <div class="container">
      <div class="header clearfix">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation" class="active"><a href="/">Tweet volume</a></li>
            <li role="presentation"><a href="/sentiment/">Tweet sentiment</a></li>
            <li role="presentation"><a href="/about/">About</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Twitstock</h4>
        <h4 class="text-muted">Exploring the stock market, one tweet at a time</h4>
      </div>

      <div id="chart" style="width:100%; height:400px;"></div>

<script type="text/javascript">
    $(function () {
        //Highcharts.setOptions({
    	//    global: {
        //        timezoneOffset: 5 * 60
        //    }
        //});
        console.log('data1:');    
        console.log({{ data1 }});    
        $('#chart').highcharts('StockChart', {
            xAxis : [{
                ordinal: true
                },
                {
                ordinal: true
            }],
            xAxis: {
                offset: 40,
                type: 'datetime',
                dateTimeLabelFormats: {
                hour: '%Y-%M-%d<br/> %H:%M',    
                day: '%Y %m-%d<br/>%a',
                week: '%Y-%m-%d<br/>%a'
                }
            },
            yAxis: [
            {
              labels: {
              align: 'right',
              x: -3
            },
            title: {
              text: 'ticker_symbol'
            },
            height: '50%',
            offset: 5,        
            lineWidth: 2
            }, 
            {
            labels: {
                align: 'right',
                x: -3
            },
            title: {
                text: 'Number of mentions'
            },
            top: '52%',
            height: '60%',
            offset: 5,
            lineWidth: 2
            }
            ],
        series: [{
          //type: 'candlestick',
          name: 'Stock price',
          data: {{ data1 }},
        }, 
        {
          type: 'column',
          name: 'Number of tweets',
          data: {{ data2 }},
          yAxis: 1,
        }],
        rangeSelector : {
                buttons : [
                {
                    type : 'hour',
                    count : 1,
                    text : '1h'
                }, {
                    type : 'day',
                    count : 1,
                    text : '1D'
                }, {
                    type : 'all',
                    count : 1,
                    text : 'All'
                }]
        }                 
        });
    });
</script>

    </div> <!-- /container -->
  </body>
</html>
